{"ast":null,"code":"import axios from \"axios\";\nexport var LOGIN_URL = \"http://13.232.102.139:9000/user/login\";\nexport var REGISTER_URL = \"api/auth/register\";\nexport var REQUEST_PASSWORD_URL = \"api/auth/forgot-password\";\nexport var ME_URL = \"http://13.232.102.139:9000/user\";\nexport function login(username, password) {\n  var requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  };\n  var val = fetch(LOGIN_URL, requestOptions).then(function (response) {\n    return response.json();\n  }).then(function (myJson) {\n    var t = myJson.data;\n    localStorage.setItem(\"token\", myJson.data.token);\n    return t; // console.log(\"2\")\n    // console.log(myJson.status)\n    // if (myJson.status== true){\n    //   console.log(\"true\")\n    //   window.location = \"/users\"\n    // }\n  }).catch(function (error) {\n    localStorage.removeItem(\"token\");\n  });\n  return val;\n}\nexport function register(email, fullname, username, password) {\n  return axios.post(REGISTER_URL, {\n    email: email,\n    fullname: fullname,\n    username: username,\n    password: password\n  });\n}\nexport function requestPassword(email) {\n  return axios.post(REQUEST_PASSWORD_URL, {\n    email: email\n  });\n}\nexport function getUserByToken() {\n  // Authorization head should be fulfilled in interceptor.\n  return axios.get(\"http://13.232.102.139:9000/user\");\n}","map":{"version":3,"sources":["D:/GCC/wtf/src/app/modules/Auth/_redux/authCrud.js"],"names":["axios","LOGIN_URL","REGISTER_URL","REQUEST_PASSWORD_URL","ME_URL","login","username","password","requestOptions","method","headers","body","JSON","stringify","val","fetch","then","response","json","myJson","t","data","localStorage","setItem","token","catch","error","removeItem","register","email","fullname","post","requestPassword","getUserByToken","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,SAAS,GAAG,uCAAlB;AACP,OAAO,IAAMC,YAAY,GAAG,mBAArB;AACP,OAAO,IAAMC,oBAAoB,GAAG,0BAA7B;AACP,OAAO,IAAMC,MAAM,GAAG,iCAAf;AAEP,OAAO,SAASC,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AACxC,MAAMC,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFY;AAGrBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,MAAAA,QAAQ,EAAEA;AAAhC,KAAf;AAHe,GAAvB;AAKA,MAAMO,GAAG,GAAGC,KAAK,CAACd,SAAD,EAAYO,cAAZ,CAAL,CACTQ,IADS,CACJ,UAACC,QAAD,EAAc;AAClB,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,GAHS,EAITF,IAJS,CAIJ,UAACG,MAAD,EAAY;AAChB,QAAIC,CAAC,GAAGD,MAAM,CAACE,IAAf;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,MAAM,CAACE,IAAP,CAAYG,KAA1C;AACA,WAAOJ,CAAP,CAHgB,CAIhB;AACA;AACA;AACA;AACA;AACA;AACD,GAdS,EAeTK,KAfS,CAeH,UAACC,KAAD,EAAW;AAChBJ,IAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACD,GAjBS,CAAZ;AAmBA,SAAOb,GAAP;AACD;AAED,OAAO,SAASc,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmCxB,QAAnC,EAA6CC,QAA7C,EAAuD;AAC5D,SAAOP,KAAK,CAAC+B,IAAN,CAAW7B,YAAX,EAAyB;AAAE2B,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,QAAQ,EAARA,QAAT;AAAmBxB,IAAAA,QAAQ,EAARA,QAAnB;AAA6BC,IAAAA,QAAQ,EAARA;AAA7B,GAAzB,CAAP;AACD;AAED,OAAO,SAASyB,eAAT,CAAyBH,KAAzB,EAAgC;AACrC,SAAO7B,KAAK,CAAC+B,IAAN,CAAW5B,oBAAX,EAAiC;AAAE0B,IAAAA,KAAK,EAALA;AAAF,GAAjC,CAAP;AACD;AAED,OAAO,SAASI,cAAT,GAA0B;AAC/B;AACA,SAAOjC,KAAK,CAACkC,GAAN,CAAU,iCAAV,CAAP;AACD","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const LOGIN_URL = \"http://13.232.102.139:9000/user/login\";\r\nexport const REGISTER_URL = \"api/auth/register\";\r\nexport const REQUEST_PASSWORD_URL = \"api/auth/forgot-password\";\r\nexport const ME_URL = \"http://13.232.102.139:9000/user\";\r\n\r\nexport function login(username, password) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ username: username, password: password }),\r\n  };\r\n  const val = fetch(LOGIN_URL, requestOptions)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((myJson) => {\r\n      let t = myJson.data;\r\n      localStorage.setItem(\"token\", myJson.data.token);\r\n      return t;\r\n      // console.log(\"2\")\r\n      // console.log(myJson.status)\r\n      // if (myJson.status== true){\r\n      //   console.log(\"true\")\r\n      //   window.location = \"/users\"\r\n      // }\r\n    })\r\n    .catch((error) => {\r\n      localStorage.removeItem(\"token\");\r\n    });\r\n\r\n  return val;\r\n}\r\n\r\nexport function register(email, fullname, username, password) {\r\n  return axios.post(REGISTER_URL, { email, fullname, username, password });\r\n}\r\n\r\nexport function requestPassword(email) {\r\n  return axios.post(REQUEST_PASSWORD_URL, { email });\r\n}\r\n\r\nexport function getUserByToken() {\r\n  // Authorization head should be fulfilled in interceptor.\r\n  return axios.get(\"http://13.232.102.139:9000/user\");\r\n}\r\n"]},"metadata":{},"sourceType":"module"}